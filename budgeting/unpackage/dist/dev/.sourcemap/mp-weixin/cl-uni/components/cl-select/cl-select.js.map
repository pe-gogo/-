{"version":3,"sources":["webpack:////Users/yaowenya/Downloads/budgeting/cl-uni/components/cl-select/cl-select.vue?ada2","webpack:////Users/yaowenya/Downloads/budgeting/cl-uni/components/cl-select/cl-select.vue?251d","webpack:////Users/yaowenya/Downloads/budgeting/cl-uni/components/cl-select/cl-select.vue?088f","webpack:////Users/yaowenya/Downloads/budgeting/cl-uni/components/cl-select/cl-select.vue?2522","uni-app:///cl-uni/components/cl-select/cl-select.vue"],"names":["name","props","value","mode","type","default","placeholder","options","labelKey","valueKey","separator","disabled","border","fields","start","end","defaultFirstOption","setOptionsIsParseValue","mixins","data","index","text","watch","immediate","handler","computed","rangeKey","showPlaceholder","classList","list","methods","parse","filter","map","join","console","onChange","onColumnChange","i","selects","onCancel"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;;;AAGxD;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAu0B,CAAgB,uyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC6B31B;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA,gBAuBA;EACAA;EAEAC;IACA;IACAC;IACA;IACAC;MACAC;MACAC;IACA;IACA;IACAC;MACAF;MACAC;IACA;IACA;IACAE;MACAH;MACAC;QAAA;MAAA;IACA;IACA;IACAG;MACAJ;MACAC;IACA;IACA;IACAI;MACAL;MACAC;IACA;IACA;IACAK;MACAN;MACAC;IACA;IACA;IACAM;IACA;IACAC;IACA;IACAC;MACAT;MACAC;IACA;IACA;IACAS;IACA;IACAC;IACA;IACAC;MACAZ;MACAC;IACA;IACA;IACAY;EACA;EAEAC;EAEAC;IACA;MACAC;MACAC;IACA;EACA;EAEAC;IACApB;MACAqB;MACAC;QACA;MACA;IACA;IACAjB;MACAgB;MACAC;QACA;QACA;UACA;QACA;;QAEA;QACA;UACA;YACA;UACA;QACA;MACA;IACA;EACA;EAEAC;IACAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;MAEA;QACAC;MACA;MAEA;QACAA;MACA;MAEA;IACA;EACA;EAEAC;IACAC;MAAA;MACA;MACA;QACA;UACA;YACA;cAAA;YAAA;UACA;YACA;cACA;gBAAA,OACA;cAAA,EACA;YACA;UACA;YACA;QAAA;MAEA;;MAEA;MACA;QACA;UACA;YACA,oCACA,6CACA;UACA;YACA,mBACAC;cAAA;YAAA,GACAC;cAAA;YAAA,GACAC;UACA;YACAC;UACA;YACA;QAAA;MAEA;IACA;IACAC;MAAA;MAAA;MACA;QACA;MACA;;MAEA;MACA;;MAEA;MACA;MAEA;QACA;UACAjB;UACAjB;UACA;QACA;UACAiB,oBACAc;YAAA;UAAA,GACAA;YAAA;UAAA;UACA/B;YAAA;UAAA;UACA;QACA;UACAA;MAAA;MAGA;MACA;MACA;IACA;IACAmC;MAAA;MACA;QAAA,OACAC;MAAA,EACA;MAEA;QAAAC;MAAA;IACA;IACAC;MACA;IACA;EACA;AACA;AAAA,4B","file":"cl-uni/components/cl-select/cl-select.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./cl-select.vue?vue&type=template&id=33771e86&\"\nvar renderjs\nimport script from \"./cl-select.vue?vue&type=script&lang=js&\"\nexport * from \"./cl-select.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"cl-uni/components/cl-select/cl-select.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cl-select.vue?vue&type=template&id=33771e86&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cl-select.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cl-select.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"cl-select\" :class=\"[classList]\">\r\n\t\t<picker\r\n\t\t\t:mode=\"mode\"\r\n\t\t\t:value=\"index\"\r\n\t\t\t:range=\"options\"\r\n\t\t\t:range-key=\"rangeKey\"\r\n\t\t\t:disabled=\"isDisabled\"\r\n\t\t\t:end=\"end\"\r\n\t\t\t:start=\"start\"\r\n\t\t\t:fields=\"fields\"\r\n\t\t\t@change=\"onChange\"\r\n\t\t\t@columnchange=\"onColumnChange\"\r\n\t\t\t@cancel=\"onCancel\"\r\n\t\t>\r\n\t\t\t<view class=\"cl-select__inner\">\r\n\t\t\t\t<text class=\"cl-select__value\"\r\n\t\t\t\t\t>{{ text\r\n\t\t\t\t\t}}<text class=\"cl-select__placeholder\" v-if=\"showPlaceholder\">{{\r\n\t\t\t\t\t\tplaceholder\r\n\t\t\t\t\t}}</text></text\r\n\t\t\t\t>\r\n\t\t\t\t<text class=\"cl-select__icon cl-icon-arrow-bottom\"></text>\r\n\t\t\t</view>\r\n\t\t</picker>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { isArray, isEmpty, compareValue } from \"../../utils\";\r\nimport Form from \"../../mixins/form\";\r\n\r\n/**\r\n * select 下拉选择\r\n * @description 下拉选择，基于 picker 组件的封装\r\n * @tutorial https://docs.cool-js.com/uni/components/form/select.html\r\n * @property {null} value 绑定值\r\n * @property {String, Number} mode 选择器模式，selector | multiSelector\r\n * @property {String} placeholder 占位内容\r\n * @property {Array<Object>} options 数据列表\r\n * @property {String} labelKey 内容关键字，默认label\r\n * @property {String} valueKey 值关键字，默认value\r\n * @property {String} separator 分隔符，默认 /\r\n * @property {Boolean} disabled 是否禁用\r\n * @property {Boolean} border 是否带有边框\r\n * @property {Boolean} fields 日期字段，有效值 year | month | day\r\n * @property {Boolean} start 有效日期的开始\r\n * @property {Boolean} end 有效日期的结束\r\n * @event {Function} change 绑定值改变时触发\r\n * @event {Function} confirm 绑定值改变时触发，返回完整数据\r\n * @event {Function} cancel 取消时触发\r\n * @event {Function} column-change 列发生改变时触发\r\n * @example <cl-select :options=\"[{label: '内容1', value: 1},{label: '内容2', value: 2}]\" />\r\n */\r\n\r\nexport default {\r\n\tname: \"cl-select\",\r\n\r\n\tprops: {\r\n\t\t// 绑定值\r\n\t\tvalue: null,\r\n\t\t// 选择器模式\r\n\t\tmode: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"selector\",\r\n\t\t},\r\n\t\t// 占位内容\r\n\t\tplaceholder: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"请选择\",\r\n\t\t},\r\n\t\t// 数据列表\r\n\t\toptions: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t\t// 内容关键字\r\n\t\tlabelKey: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"label\",\r\n\t\t},\r\n\t\t// 值关键字\r\n\t\tvalueKey: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"value\",\r\n\t\t},\r\n\t\t// 分隔符\r\n\t\tseparator: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"/\",\r\n\t\t},\r\n\t\t// 是否禁用\r\n\t\tdisabled: Boolean,\r\n\t\t// 是否带有边框\r\n\t\tborder: Boolean,\r\n\t\t// 日期字段，有效值 year | month | day\r\n\t\tfields: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"day\",\r\n\t\t},\r\n\t\t// 有效日期的开始\r\n\t\tstart: String,\r\n\t\t// 有效日期的结束\r\n\t\tend: String,\r\n\t\t// 是否默认返回第一个\r\n\t\tdefaultFirstOption: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\t// 设置 options 时是否重新解析 value\r\n\t\tsetOptionsIsParseValue: Boolean,\r\n\t},\r\n\r\n\tmixins: [Form],\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tindex: \"\",\r\n\t\t\ttext: \"\",\r\n\t\t};\r\n\t},\r\n\r\n\twatch: {\r\n\t\tvalue: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler(val) {\r\n\t\t\t\tthis.parse(val);\r\n\t\t\t},\r\n\t\t},\r\n\t\toptions: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler(arr) {\r\n\t\t\t\t// 避免重复设置 options 异常问题\r\n\t\t\t\tif (!this.setOptionsIsParseValue) {\r\n\t\t\t\t\tthis.parse(this.value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 为空时，默认返回列表第一个\r\n\t\t\t\tif (arr && arr.length > 0 && this.defaultFirstOption) {\r\n\t\t\t\t\tif (this.value === undefined) {\r\n\t\t\t\t\t\tthis.$emit(\"input\", arr[0][this.valueKey]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\trangeKey() {\r\n\t\t\treturn this.mode == \"region\" ? \"\" : this.labelKey;\r\n\t\t},\r\n\r\n\t\tshowPlaceholder() {\r\n\t\t\treturn isEmpty(this.text);\r\n\t\t},\r\n\r\n\t\tclassList() {\r\n\t\t\tlet list = [];\r\n\r\n\t\t\tif (this.isDisabled) {\r\n\t\t\t\tlist.push(\"is-disabled\");\r\n\t\t\t}\r\n\r\n\t\t\tif (this.border) {\r\n\t\t\t\tlist.push(\"is-border\");\r\n\t\t\t}\r\n\r\n\t\t\treturn list.join(\" \");\r\n\t\t},\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tparse(val) {\r\n\t\t\t// 取下标\r\n\t\t\tthis.index = (() => {\r\n\t\t\t\tswitch (this.mode) {\r\n\t\t\t\t\tcase \"selector\":\r\n\t\t\t\t\t\treturn this.options.findIndex((e) => compareValue(e[this.valueKey], val));\r\n\t\t\t\t\tcase \"multiSelector\":\r\n\t\t\t\t\t\treturn (isArray(val) ? val : [val]).map((v, i) => {\r\n\t\t\t\t\t\t\treturn this.options[i].findIndex((e) =>\r\n\t\t\t\t\t\t\t\tcompareValue(e[this.valueKey], v)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn val;\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\r\n\t\t\t// 取文本值\r\n\t\t\tthis.text = (() => {\r\n\t\t\t\tswitch (this.mode) {\r\n\t\t\t\t\tcase \"selector\":\r\n\t\t\t\t\t\treturn this.options[this.index]\r\n\t\t\t\t\t\t\t? this.options[this.index][this.labelKey]\r\n\t\t\t\t\t\t\t: \"\";\r\n\t\t\t\t\tcase \"multiSelector\":\r\n\t\t\t\t\t\treturn this.index\r\n\t\t\t\t\t\t\t.filter((v) => v >= 0)\r\n\t\t\t\t\t\t\t.map((v, i) => this.options[i][v][this.labelKey])\r\n\t\t\t\t\t\t\t.join(this.separator);\r\n\t\t\t\t\tcase \"region\":\r\n\t\t\t\t\t\tconsole.warn(\"请使用 cl-select-region 代替\");\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn this.index;\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\t\t},\r\n\t\tonChange({ detail }) {\r\n\t\t\tif (detail.value < 0 || detail.value === undefined) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// 返回的完整数据\r\n\t\t\tlet data = null;\r\n\r\n\t\t\t// 返回的唯一数据\r\n\t\t\tlet value = null;\r\n\r\n\t\t\tswitch (this.mode) {\r\n\t\t\t\tcase \"selector\":\r\n\t\t\t\t\tdata = this.options[detail.value];\r\n\t\t\t\t\tvalue = data ? data[this.valueKey] : null;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"multiSelector\":\r\n\t\t\t\t\tdata = detail.value\r\n\t\t\t\t\t\t.map((v) => (v < 0 ? 0 : v))\r\n\t\t\t\t\t\t.map((v, i) => this.options[i][v]);\r\n\t\t\t\t\tvalue = data.map((e) => e[this.valueKey]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tvalue = detail.value;\r\n\t\t\t}\r\n\r\n\t\t\tthis.$emit(\"confirm\", data);\r\n\t\t\tthis.$emit(\"change\", value);\r\n\t\t\tthis.$emit(\"input\", value);\r\n\t\t},\r\n\t\tonColumnChange({ detail }) {\r\n\t\t\tthis.index = this.index.map((v, i) =>\r\n\t\t\t\ti < detail.column ? v : i === detail.column ? detail.value : 0\r\n\t\t\t);\r\n\r\n\t\t\tthis.$emit(\"column-change\", { ...detail, selects: this.index });\r\n\t\t},\r\n\t\tonCancel() {\r\n\t\t\tthis.$emit(\"cancel\");\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n"],"sourceRoot":""}